# 멀티캠퍼스 IP 설정 자동화 스크립트
  
## 개요
- 노트북을 반출해서 사용하긴 해야 하는데..  
- 매번 네트워크 설정을 하기가 귀찮았던 당신을 위한 자동화 스크립트 파일~  
- 개선사항, 버그 관련 제보 환영합니다  
- Made By 싸피 10기 1045374 김동건 
- Ver 2.0.4

## 사용법
- 디렉터리를 사용자 홈 디렉터리(SSAFY) 바로 밑에 위치시켜주세요.
- `env.txt` 파일을 메모장으로 열어서 각종 값을 넣어주세요.
   ```bash
   set INTERFACE=Wi-Fi 2
   set WIFI=SSAFY_1234
   set IP=11.11.11.11
   set SUBNET=255.255.255.255
   set GATEWAY=11.11.11.1
   set DNS1=123.123.123.123
   set DNS2=123.123.123.123
    ```
  - 위와 같은 방식으로 세팅해주세요.
  - INTERFACE는 win+q 이후 "네트워크 연결 보기"를 검색하여 파악할 수 있습니다. Wi-Fi거나, Wi-Fi 2일 겁니다.
  - WIFI는 사용하는 공유기 이름(층마다 다름)을 적어주시면 됩니다.
  - 나머지는 알아서..!
- 설정이 완료되었다면 `init.bat`을 더블클릭해 실행해주세요.
- 완료됐습니다!
## 참고사항
- 관리자 권한으로 실행돼야 합니다.
- 제대로 되지 않는 사항은 피드백해주세요.

<br>  <br>  <br>  <br>  <br>  <br>  <br>  <br>  <br>  <br>  <br>  <br>  <br>  <br>  <br>  <br>  
# 간략 버전 정보 정리
## 버전 1.0
- 대화형 스크립트
- 사용자의 입력으로 개인 설정 정보를 실행 때마다 받음
- 사용자의 입력으로 설정 여부를 선택할 수 있음
- 매번 하기 매우 귀찮음;;

## 버전 1.1
- 토글형 스크립트
- 사용자는 파일 편집을 통해 처음 개인 설정 정보를 입력
- 이후부터는 단순하게 스크립트를 실행시켜서 설정을 키고 끌 수 있음

## 버전 2.0
- 자동형 스크립트
- 윈도우 서비스에 등록하여 컴퓨터를 실행하면 자동 네트워크 세팅이 일어나도록(https://haenny.tistory.com/209) -> 실패
  - 윈도우를 키면 실행되는 디렉터리에 위치시킴 
- 설계 방향
  - dhcp 원리 공부. 라우터에 브로드캐스트로 요청을 보내고 무응답일 때 멀캠 설정
  - ping 사용. 근데 이 방법은 ip 설정 이슈 뿐만 아니라 일단 와이파이가 제대로 연결됐다는 것 자체가 전제돼야만 해서 추가 이슈가 발생할 것 같다.
  - 현재 가용한 공유기 이름 확인. SSAFY의 공유기 이름이 있으므로 그걸 활용 -> 채택
- bat 파일을 직접 수정하는 것이 사용성을 떨어뜨림 -> 설정 파일 분리
- 추가 과제 - 절전 상태에서 켜지는 것에 대해서도 설정할 수는 없을까?

## 버전 2.1
 - 자동형 스크립트
 - 잠금 해제되는 정확한 윈도우 이벤트를 포착하여 작업 스케줄러로 스크립트 등록
   ![image](https://github.com/Zerotay/gunfra/assets/67823010/a2420095-5670-4972-bac8-4de087553a57)
   - 갖은 노력의 흔적..
 - 단순 로그온 이벤트인 4624는 잘 실행되고 있을 때도 시도때도 없이 터진다.
 - 로그온 타입이 세부적으로 나뉘어 있기에 이걸 잘 찾아서 설정을 걸어주면 되겠다고 판단
 - 왜 안되나 싶었는데.. 해답은 xml 파일을 뜯어보는 것에 있었음



