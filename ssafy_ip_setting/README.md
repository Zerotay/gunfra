# 멀티캠퍼스 IP 설정 자동화 스크립트

## 개요

- 노트북을 반출해서 사용하긴 해야 하는데..
- 매번 네트워크 설정을 하기가 귀찮았던 당신을 위한 자동화 스크립트 파일~
- 노트북을 킬 때마다 실행되어 자동으로 네트워크 설정을 진행해드립니다!
- 초기 세팅을 진행하면 이후부터는 추가적인 설정 없이 동작합니다.

## 구조
![파일구조](https://github.com/Zerotay/gunfra/assets/67823010/ce3a4b72-faff-4be7-abc8-a2dad8ca3184)

- AUTO_IP_SETTING.bat - 자동화 스크립트 파일
- delete.bat - 자동 설정 off
- env.txt - 세팅 값들이 들어가는 파일
- init.bat - 자동 설정 on
- README.md - 설명 문서

## 사용법

- 초기 세팅
  - 이 디렉터리를 사용자 홈 디렉서리(C:\Users\SSAFY) 바로 밑에 위치시켜주세요.
  - `env.txt` 파일을 메모장으로 열어서 각종 값을 넣어주세요.
    ```bash
    set INTERFACE=인터페이스명
    set WIFI=연결할 wifi명
    set IP=11.11.11.11
    set SUBNET=255.255.255.255
    set GATEWAY=11.11.11.1
    set DNS1=123.123.123.123
    set DNS2=123.123.123.123
    ```
    - IP ~ DNS2는 SSAFY에서 제공받은 값을 입력해주세요.
    - 인터페이스명은 win+q 이후 "네트워크 연결 보기"를 검색하여 파악할 수 있습니다. Wi-Fi거나, Wi-Fi 2일 겁니다.
      ![interface확인](https://github.com/Zerotay/gunfra/assets/67823010/bdcf0e8c-823b-4a83-856b-5056616b121f)

    - WIFI는 연결할 wifi 이름을 적어주시면 됩니다.
  - 설정이 완료되었다면 `init.bat`을 더블클릭해 실행해주세요.
  - 완료됐습니다!
  - `init.bat`, `delete.bat` 을 실행 시 기능을 on/off 할 수 있습니다.

## 참고사항

- 개선사항, 버그 관련 제보 환영합니다
- Made By 싸피 10기 1045374 김동건
- Contributor : 싸피 10기 강이규
- Ver 2.1.2

## <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br> <br>

# 간략 버전 정보 정리

## 버전 1.0

- 대화형 스크립트
- 사용자의 입력으로 개인 설정 정보를 실행 때마다 받음
- 사용자의 입력으로 설정 여부를 선택할 수 있음
- 매번 하기 매우 귀찮음;;

## 버전 1.1

- 토글형 스크립트
- 사용자는 파일 편집을 통해 처음 개인 설정 정보를 입력
- 이후부터는 단순하게 스크립트를 실행시켜서 설정을 키고 끌 수 있음

## 버전 2.0

- 자동형 스크립트
- 윈도우 서비스에 등록하여 컴퓨터를 실행하면 자동 네트워크 세팅이 일어나도록(https://haenny.tistory.com/209) -> 실패
  - 윈도우를 키면 실행되는 디렉터리에 위치시킴
- 설계 방향
  - dhcp 원리 공부. 라우터에 브로드캐스트로 요청을 보내고 무응답일 때 멀캠 설정
  - ping 사용. 근데 이 방법은 ip 설정 이슈 뿐만 아니라 일단 와이파이가 제대로 연결됐다는 것 자체가 전제돼야만 해서 추가 이슈가 발생할 것 같다.
  - 현재 가용한 공유기 이름 확인. SSAFY의 공유기 이름이 있으므로 그걸 활용 -> 채택
- bat 파일을 직접 수정하는 것이 사용성을 떨어뜨림 -> 설정 파일 분리
- 추가 과제 - 절전 상태에서 켜지는 것에 대해서도 설정할 수는 없을까?

## 버전 2.1

- 자동형 스크립트
- 잠금 해제되는 정확한 윈도우 이벤트를 포착하여 작업 스케줄러로 스크립트 등록
  ![image](https://github.com/Zerotay/gunfra/assets/67823010/a2420095-5670-4972-bac8-4de087553a57)
  - 갖은 노력의 흔적..
- 단순 로그온 이벤트인 4624는 잘 실행되고 있을 때도 시도때도 없이 터진다.
- 로그온 타입이 세부적으로 나뉘어 있기에 이걸 잘 찾아서 설정을 걸어주면 되겠다고 판단
- 왜 안되나 싶었는데.. 해답은 xml 파일을 뜯어보는 것에 있었음
